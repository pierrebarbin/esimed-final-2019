{% extends "../layouts/base.twig" %}

{% block css %}
    <link rel="stylesheet" href="/static/css/app.css">
{% endblock %}

{% block user_info %}
    <li>
        <div class="user-view">
            <div class="background">
                <img src="https://www.frequence-sud.fr/admin/transfert/data/59635.jpg">
            </div>
            <a href="#name"><span class="white-text name">{{ user.pseudo }}</span></a>
            <a href="#email"><span class="white-text email">{{ user.email }}</span></a>
        </div>
    </li>
{% endblock %}

{% block menu %}
    {{ parent() }}
    <li>
        <a href="{{ url }}/challenge">
            <i class="material-icons">assignment</i>
            Défis
        </a>
    </li>
    <li>
        <a href="{{ url }}/favorite">
            <i class="material-icons">star</i>
            Favoris
        </a>
    </li>
    <li>
        <a href="{{ url }}/account">
            <i class="material-icons">account_circle</i>
            Mon compte
        </a>
    </li>
    <li>
        <a href="{{ url }}/logout">
            <i class="material-icons">power_settings_new</i>
            Déconnexion
        </a>
    </li>
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let fabs = document.querySelectorAll('.fixed-action-btn');
            let fabsinstances = M.FloatingActionButton.init(fabs, {});

            let modals = document.querySelectorAll('.modal');
            let modalsinstances = M.Modal.init(modals, {});

            {% if toast.length > 0 %}
                let toast = {{ toast[0]|json_encode() }};
                M.toast({html: toast })
            {% endif %}
        });
    </script>
{% endblock %}